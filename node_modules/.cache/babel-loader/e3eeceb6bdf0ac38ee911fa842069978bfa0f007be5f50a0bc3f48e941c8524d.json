{"ast":null,"code":"import _classCallCheck from\"D:/web d projects/assignment mayankal/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/web d projects/assignment mayankal/my-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"D:/web d projects/assignment mayankal/my-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"D:/web d projects/assignment mayankal/my-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/web d projects/assignment mayankal/my-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import\"./RollDice.css\";import Die from\"../Die/Die.js\";import Steps from\"../steps/Steps\";import Participant1 from\"../Participant/Participant1\";import Participant2 from\"../Participant/Participant2\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RollDice=/*#__PURE__*/function(_Component){_inherits(RollDice,_Component);var _super=_createSuper(RollDice);// Face numbers passes as default props\nfunction RollDice(props){var _this;_classCallCheck(this,RollDice);_this=_super.call(this,props);// States\n_this.handleClick=function(e){_this.inputElement.click();};_this.state={die:\"one\",rolling:false,amanTurn:1,amanSteps:50,ansiSteps:50,buttonName:\"Aman's Turn\",amanOffsetPercent:0,ansiOffsetPercent:0};_this.roll=_this.roll.bind(_assertThisInitialized(_this));return _this;}_createClass(RollDice,[{key:\"roll\",value:function roll(){var _this2=this;var _this$props=this.props,sides=_this$props.sides,sidesInNumber=_this$props.sidesInNumber;var _this$state=this.state,amanTurn=_this$state.amanTurn,amanSteps=_this$state.amanSteps,ansiSteps=_this$state.ansiSteps,amanOffsetPercent=_this$state.amanOffsetPercent,ansiOffsetPercent=_this$state.ansiOffsetPercent;var randomSide=Math.floor(Math.random()*sides.length);this.setState({// Changing state upon click\ndie:sides[randomSide],rolling:true,buttonName:amanTurn?\"Ansi's Turn\":\"Aman's Turn\",amanSteps:amanTurn&&amanSteps-sidesInNumber[randomSide]>=0?amanSteps-sidesInNumber[randomSide]:amanSteps,ansiSteps:!amanTurn&&ansiSteps-sidesInNumber[randomSide]>=0?ansiSteps-sidesInNumber[randomSide]:ansiSteps,amanOffsetPercent:amanTurn&&amanSteps-sidesInNumber[randomSide]>=0?amanOffsetPercent+sidesInNumber[randomSide]*2:amanOffsetPercent,ansiOffsetPercent:!amanTurn&&ansiSteps-sidesInNumber[randomSide]>=0?ansiOffsetPercent+sidesInNumber[randomSide]*2:ansiOffsetPercent});// Start timer of one sec when rolling start\nsetTimeout(function(){// Set rolling to false again when time over\n_this2.setState({rolling:false});},1000);this.setState({amanTurn:!amanTurn});}},{key:\"render\",value:function render(){var _this3=this;var handleBtn=this.state.rolling?\"RollDice-rolling\":\"\";var _this$state2=this.state,die=_this$state2.die,rolling=_this$state2.rolling,amanSteps=_this$state2.amanSteps,ansiSteps=_this$state2.ansiSteps,amanOffsetPercent=_this$state2.amanOffsetPercent,ansiOffsetPercent=_this$state2.ansiOffsetPercent;return/*#__PURE__*/_jsxs(\"div\",{className:\"RollDice\",children:[/*#__PURE__*/_jsx(Steps,{amanSteps:amanSteps,ansiSteps:ansiSteps,percentToMoveAman:amanOffsetPercent,percentToMoveAnsi:ansiOffsetPercent}),/*#__PURE__*/_jsx(Participant1,{stepsLeft:amanSteps}),/*#__PURE__*/_jsxs(\"div\",{className:\"dice-button\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"RollDice-container\",children:/*#__PURE__*/_jsx(\"div\",{onClick:this.handleClick,children:/*#__PURE__*/_jsx(Die,{face:die,rolling:rolling})})}),/*#__PURE__*/_jsx(\"button\",{ref:function ref(input){return _this3.inputElement=input;},className:handleBtn,disabled:this.state.rolling||this.state.amanSteps===0||this.state.ansiSteps===0,onClick:this.roll,children:this.state.rolling?\"Rolling\":this.state.buttonName})]}),/*#__PURE__*/_jsx(Participant2,{stepsLeft:ansiSteps}),this.state.amanSteps===0||this.state.ansiSteps===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-won\",children:[\"Congratulations \",this.state.amanSteps===0&&\"Aman Singh\",\" \",this.state.ansiSteps===0&&\"Ansi Singh\",\"! You won the game.\"]}):/*#__PURE__*/_jsx(\"div\",{className:\"text-won\",children:\"Click on the button at bottom to roll dice.\"})]});}}]);return RollDice;}(Component);RollDice.defaultProps={sides:[\"one\",\"two\",\"three\",\"four\",\"five\",\"six\"],sidesInNumber:[1,2,3,4,5,6]};export default RollDice;","map":{"version":3,"names":["React","Component","Die","Steps","Participant1","Participant2","jsx","_jsx","jsxs","_jsxs","RollDice","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleClick","e","inputElement","click","state","die","rolling","amanTurn","amanSteps","ansiSteps","buttonName","amanOffsetPercent","ansiOffsetPercent","roll","bind","_assertThisInitialized","_createClass","key","value","_this2","_this$props","sides","sidesInNumber","_this$state","randomSide","Math","floor","random","length","setState","setTimeout","render","_this3","handleBtn","_this$state2","className","children","percentToMoveAman","percentToMoveAnsi","stepsLeft","onClick","face","ref","input","disabled","defaultProps"],"sources":["D:/web d projects/assignment mayankal/my-app/src/components/RollDice/RollDice.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./RollDice.css\";\r\nimport Die from \"../Die/Die.js\";\r\nimport Steps from \"../steps/Steps\";\r\nimport Participant1 from \"../Participant/Participant1\";\r\nimport Participant2 from \"../Participant/Participant2\";\r\n\r\nclass RollDice extends Component {\r\n  // Face numbers passes as default props\r\n  static defaultProps = {\r\n    sides: [\"one\", \"two\", \"three\", \"four\", \"five\", \"six\"],\r\n    sidesInNumber: [1, 2, 3, 4, 5, 6],\r\n  };\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // States\r\n    this.state = {\r\n      die: \"one\",\r\n      rolling: false,\r\n      amanTurn: 1,\r\n      amanSteps: 50,\r\n      ansiSteps: 50,\r\n      buttonName: \"Aman's Turn\",\r\n      amanOffsetPercent: 0,\r\n      ansiOffsetPercent: 0,\r\n    };\r\n    this.roll = this.roll.bind(this);\r\n  }\r\n  roll() {\r\n    const { sides, sidesInNumber } = this.props;\r\n    const {\r\n      amanTurn,\r\n      amanSteps,\r\n      ansiSteps,\r\n      amanOffsetPercent,\r\n      ansiOffsetPercent,\r\n    } = this.state;\r\n    const randomSide = Math.floor(Math.random() * sides.length);\r\n    this.setState({\r\n      // Changing state upon click\r\n      die: sides[randomSide],\r\n      rolling: true,\r\n      buttonName: amanTurn ? \"Ansi's Turn\" : \"Aman's Turn\",\r\n      amanSteps:\r\n        amanTurn && amanSteps - sidesInNumber[randomSide] >= 0\r\n          ? amanSteps - sidesInNumber[randomSide]\r\n          : amanSteps,\r\n      ansiSteps:\r\n        !amanTurn && ansiSteps - sidesInNumber[randomSide] >= 0\r\n          ? ansiSteps - sidesInNumber[randomSide]\r\n          : ansiSteps,\r\n      amanOffsetPercent:\r\n        amanTurn && amanSteps - sidesInNumber[randomSide] >= 0\r\n          ? amanOffsetPercent + sidesInNumber[randomSide] * 2\r\n          : amanOffsetPercent,\r\n      ansiOffsetPercent:\r\n        !amanTurn && ansiSteps - sidesInNumber[randomSide] >= 0\r\n          ? ansiOffsetPercent + sidesInNumber[randomSide] * 2\r\n          : ansiOffsetPercent,\r\n    });\r\n\r\n    // Start timer of one sec when rolling start\r\n    setTimeout(() => {\r\n      // Set rolling to false again when time over\r\n      this.setState({ rolling: false });\r\n    }, 1000);\r\n\r\n    this.setState({ amanTurn: !amanTurn });\r\n  }\r\n  handleClick = (e) => {\r\n    this.inputElement.click();\r\n  };\r\n  render() {\r\n    const handleBtn = this.state.rolling ? \"RollDice-rolling\" : \"\";\r\n    const {\r\n      die,\r\n      rolling,\r\n      amanSteps,\r\n      ansiSteps,\r\n      amanOffsetPercent,\r\n      ansiOffsetPercent,\r\n    } = this.state;\r\n    return (\r\n      <div className=\"RollDice\">\r\n        <Steps\r\n          amanSteps={amanSteps}\r\n          ansiSteps={ansiSteps}\r\n          percentToMoveAman={amanOffsetPercent}\r\n          percentToMoveAnsi={ansiOffsetPercent}\r\n        />\r\n        <Participant1 stepsLeft={amanSteps} />\r\n        <div className=\"dice-button\">\r\n          <div className=\"RollDice-container\">\r\n            <div onClick={this.handleClick}>\r\n              <Die face={die} rolling={rolling} />\r\n            </div>\r\n          </div>\r\n          <button\r\n            ref={(input) => (this.inputElement = input)}\r\n            className={handleBtn}\r\n            disabled={\r\n              this.state.rolling ||\r\n              this.state.amanSteps === 0 ||\r\n              this.state.ansiSteps === 0\r\n            }\r\n            onClick={this.roll}\r\n          >\r\n            {this.state.rolling ? \"Rolling\" : this.state.buttonName}\r\n          </button>\r\n        </div>\r\n        <Participant2 stepsLeft={ansiSteps} />\r\n        {this.state.amanSteps === 0 || this.state.ansiSteps === 0 ? (\r\n          <div className=\"text-won\">\r\n            Congratulations {this.state.amanSteps === 0 && \"Aman Singh\"}{\" \"}\r\n            {this.state.ansiSteps === 0 && \"Ansi Singh\"}! You won the game.\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-won\">\r\n            Click on the button at bottom to roll dice.\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RollDice;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}